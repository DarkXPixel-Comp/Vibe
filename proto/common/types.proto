syntax = "proto3";

package common;

option go_package = "github.com/DarkXPixel/Vibe/proto/common";

message Message {
    string id = 1;
    string chat_id = 2;
    string user_id = 3;
    string type = 4; //text, call, audio, video, file
    string payload = 5; // JSON-encoded data
    string timestamp = 6;
}

message ChatState {
    string chat_id = 1;
    repeated Message messages = 2;
}
message Update {
    string id = 1;
    string user_id = 2;
    string type = 3; //text, call, audio, video, file
    string payload = 4; // JSON-encoded data
    int64 pts = 5;
    int64 unordered_pts = 6;
    string timestamp = 7;
}

message ProfileState {
    string user_id = 1;
    string name = 2;
    string avatar_url = 3;
}